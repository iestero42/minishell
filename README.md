arreglar el como manejo las variables de entorno y meter algun caso especial de variable de entorno como $$ 

y luego ver que funciona 

y probar que funciona tambien cunado la variable de entorno esta vacia y hago una redirrecion y falla.

el parseo es todo a la vez y cuando hya un error se imprime y en el comando se guarda nulo y cuando se pase al exec si evalua si es nulo el comando y si lo es no se ejecuta nada y se pasa al sigueinte comando 